(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{179:function(e,a,t){"use strict";t.r(a);t(88);var n=t(0),r=t.n(n),l=t(33),i=t.n(l),c=t(18),s=t(34),o=t(23),u=t(24),m=t(26),d=t(25),p=t(27),y=t(20),h=t(83),b=t.n(h),N=function(e){var a=e.destination,t=e.message,n=e.action,l=void 0===n?null:n,i=e.customClass;return r.a.createElement("div",{className:"linkButton ".concat(i)},r.a.createElement(c.b,{className:"button__target",to:a,onClick:l},t||a))},f=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){t.props.playerNameReady?(t.props.handleNewPlayerFormSubmit(e),t.props.history.push("/game")):t.displayInvalidPlayerNameMessage()},t.handleClick=function(){t.props.playerNameReady?t.props.addNewPlayerToFirebase():t.displayInvalidPlayerNameMessage()},t.displayInvalidPlayerNameMessage=function(){b()("Oops!","Looks like you need to enter a valid Nick Name!","error")},t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login"},r.a.createElement("h1",null,"RPSLS"),r.a.createElement("form",{className:"playerNameSubmissionForm",action:"#",onSubmit:this.handleSubmit},r.a.createElement("label",{className:"visuallyhidden",htmlFor:"playerName"},"Please enter your nickname!"),r.a.createElement("input",{className:"playerNameSubmissionForm__input",type:"text",id:"playerName",value:this.props.playerName,onChange:function(a){return e.props.handleChange(a,e.props.checkForPlayerNameReady)},placeholder:"Enter a Nickname"})),r.a.createElement("div",{className:"loginPageButtons"},r.a.createElement("div",{className:"loginPageButtons__buttonContainer",onClick:this.handleClick},r.a.createElement(N,{destination:this.props.playerNameReady?"game":"/",message:"Play Game"})),r.a.createElement("div",{className:"loginPageButtons__buttonContainer"},r.a.createElement(N,{destination:"instructions"})),r.a.createElement("div",{className:"loginPageButtons__buttonContainer"},r.a.createElement(N,{destination:"leaderboard"}))))}}]),a}(n.Component),E=Object(y.d)(f),v=function(){return r.a.createElement("div",null,"Game")},w=function(){return r.a.createElement("div",null,"Instructions")},g=t(64),k=t.n(g);k.a.initializeApp({apiKey:"AIzaSyCr6cQFXFwCYl7-ClBTIAK6H6MhS6XNkC8",authDomain:"new-rpsls.firebaseapp.com",databaseURL:"https://new-rpsls.firebaseio.com",projectId:"new-rpsls",storageBucket:"new-rpsls.appspot.com",messagingSenderId:"783810961248"});var C=k.a,P=function(e){return i.a.createPortal(r.a.createElement("div",{onClick:e.onDismiss,className:"ui dimmer modals visible active"},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active"},r.a.createElement("div",{className:"ui huge header"},e.title),r.a.createElement("div",{className:"content maxedHeight"},e.content),r.a.createElement("div",{className:"actions"},e.actions))),document.querySelector("#modal"))},S=t(7),F=Object(S.a)(),O=C.database().ref(),j=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(l)))).state={players:[]},t.pullDataFromFirebase=function(){O.once("value").then(function(e){var a=Object.values(e.toJSON());t.sortPlayerList(a)})},t.sortPlayerList=function(e){var a=e.sort(function(e,a){return e.win<a.win?1:e.win>a.win?-1:e.win===a.win&&e.lose>a.lose?1:e.win===a.win&&e.lose<a.lose?-1:void 0});t.setState({players:a})},t.renderRankings=function(){return t.state.players.map(function(e,a){if(e.win+e.lose+e.tie===25)return r.a.createElement("tr",{key:a},r.a.createElement("td",{"data-label":"Rank"},a+1),r.a.createElement("td",{"data-label":"Name"},e.name),r.a.createElement("td",{"data-label":"Wins"},e.win),r.a.createElement("td",{"data-label":"Loses"},e.lose))})},t.renderContent=function(){return r.a.createElement("div",{className:"leaderboard"},r.a.createElement("table",{className:"ui celled large table unstackable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"rankColumn"},"Rank"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Wins"),r.a.createElement("th",null,"Loses"))),r.a.createElement("tbody",{className:"rankList"},t.renderRankings())))},t.renderActions=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return F.goBack()},className:"ui button primary massive"},"Back"))},t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){this.pullDataFromFirebase()}},{key:"render",value:function(){return r.a.createElement(P,{title:"Leaderboard",content:this.renderContent(),actions:this.renderActions(),onDismiss:function(){return F.goBack()}})}}]),a}(n.Component),R=function(){return r.a.createElement("div",null,"Menu")},x=function(){return r.a.createElement("div",null,"Results")},D=t(86),B=t.n(D),I=C.database().ref(),L=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={playerName:"",playerNameReady:!1,tie:0,win:0,lose:0,id:"",windowWidth:0,windowHeight:0,recoveryDataExists:!1},t.updateWindow=function(){t.setState({windowWidth:window.innerWidth,windowHeight:window.innerHeight})},t.handleChange=function(e,a){t.setState(Object(s.a)({},e.target.id,e.target.value),function(){return a()})},t.checkForPlayerNameReady=function(){"Enter a nickname"!==t.state.playerName&&""!==t.state.playerName&&" "!==t.state.playerName&&"  "!==t.state.playerName&&"   "!==t.state.playerName?t.setState({playerNameReady:!0}):t.setState({playerNameReady:!1})},t.handleNewPlayerFormSubmit=function(e){e.preventDefault(),t.addNewPlayerToFirebase()},t.addNewPlayerToFirebase=function(){var e={name:t.state.playerName,win:t.state.win,lose:t.state.lose,tie:t.state.tie};I.push(e).then(function(e){t.setState({id:e.key})})},t.updateFirebase=function(e){I.child(t.state.id).child(e).set(t.state[e])},t.updateCount=function(e){t.setState(Object(s.a)({},e,t.state[e]+1),function(){return t.updateFirebase(e)})},t.setRecoveryDataState=function(){t.setState({recoveryDataExists:!0})},t.resetGame=function(){t.setState({playerName:"",playerNameReady:!1,tie:0,win:0,lose:0,id:"",recoveryDataExists:""})},t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){this.updateWindow(),window.addEventListener("resize",this.updateWindow)}},{key:"render",value:function(){var e,a=this,t={backgroundImage:"linear-gradient(to bottom, rgba(205, 169, 157, 0.7), rgba(205, 169, 157, 0.7)), url(".concat(B.a,")")};return r.a.createElement("div",{className:"app",style:t},r.a.createElement("div",{className:"appWrapper"},r.a.createElement(y.a,(e={exact:!0,path:"/"},Object(s.a)(e,"exact",!0),Object(s.a)(e,"render",function(e){return r.a.createElement(E,{history:F,playerName:a.state.playerName,playerNameReady:a.state.playerNameReady,handleChange:a.handleChange,handleNewPlayerFormSubmit:a.handleNewPlayerFormSubmit,addNewPlayerToFirebase:a.addNewPlayerToFirebase,checkForPlayerNameReady:a.checkForPlayerNameReady})}),e)),r.a.createElement(y.a,{path:"/game",exact:!0,render:function(e){return r.a.createElement(v,null)}}),r.a.createElement(y.a,{path:"/menu",exact:!0,render:function(e){return r.a.createElement(R,null)}}),r.a.createElement(y.a,{path:"/instructions",exact:!0,render:function(e){return r.a.createElement(w,null)}}),r.a.createElement(y.a,{path:"/leaderboard",exact:!0,render:function(e){return r.a.createElement(j,null)}}),r.a.createElement(y.a,{path:"/results",exact:!0,render:function(e){return r.a.createElement(x,null)}})))}}]),a}(n.Component);i.a.render(r.a.createElement(c.a,null,r.a.createElement(L,null)),document.getElementById("root"))},86:function(e,a,t){e.exports=t.p+"static/media/background.ce8f19bd.png"},87:function(e,a,t){e.exports=t(179)},88:function(e,a,t){}},[[87,1,2]]]);
//# sourceMappingURL=main.5512f6f3.chunk.js.map